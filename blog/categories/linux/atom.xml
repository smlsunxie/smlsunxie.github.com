<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: linux | 蹤影]]></title>
  <link href="http://smlsun.com/blog/categories/linux/atom.xml" rel="self"/>
  <link href="http://smlsun.com/"/>
  <updated>2013-01-25T13:42:49+08:00</updated>
  <id>http://smlsun.com/</id>
  <author>
    <name><![CDATA[smlsun]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[tips: customize live cd]]></title>
    <link href="http://smlsun.com/blog/2013/01/25/customize-live-cd/"/>
    <updated>2013-01-25T10:29:00+08:00</updated>
    <id>http://smlsun.com/blog/2013/01/25/customize-live-cd</id>
    <content type="html"><![CDATA[<p>最近在研究如何製作 live cd 也因為這項研究，讓我更熟悉 linux 的架構，發現一些有用的知識，與 linux 運作的設定，這篇算是筆記，陸續在新增</p>

<ul>
<li><p><code>/etc/skel</code></p>

<p>  在這資料夾下面的檔案，只要當新增使用者時，就會複製一份給新增使用者，當你需要有一些預設設定時很好用，比如說：chrome 要有預設的首頁以及捷徑，還有輸入法預設有哪些等。</p></li>
</ul>


<hr />

<ul>
<li><p><code>/etc/xdg/autostart/</code></p>

<p>  global 自動執行，放在底下的 *.desktop 將會自動執行</p></li>
</ul>


<hr />

<ul>
<li><p><code>~/.config/autostart/</code></p>

<p>  local 自動執行，同 <code>/etc/xdg/autostart/</code>，可搭配 <code>/etc/skel</code> 服用，如果你有每個使用者登入就要執行某些程式的需求</p></li>
</ul>


<hr />

<ul>
<li><p><code>/etc/rc.local</code></p>

<p>  當你登入系統時，希望要執行任何 command 可以在這編輯，比如說：製作 livecd 一開始時是在 command 模式，你想要讓他直接進到 xwindow 通常需要下 startx，此時就可以在這檔案裡編寫指令，讓他自動執行。需要注意的是在這直接執行 <code>startx</code> 將是使用 root 的身分，在 etc 底下都屬於 global</p>

<p>  相關說明：</p>

<ul>
<li><a href="http://linux.vbird.org/linux_basic/0510osloader.php#startup_sysinit">init 處理系統初始化流程 (/etc/rc.d/rc.sysinit)</a></li>
<li><a href="http://linux.vbird.org/linux_basic/0510osloader.php#startup_runlevel">啟動系統服務與相關啟動設定檔 (/etc/rc.d/rc N &amp; /etc/sysconfig)</a></li>
<li><a href="http://linux.vbird.org/linux_basic/0510osloader.php#startup_local">使用者自訂開機啟動程序 (/etc/rc.d/rc.local)</a></li>
</ul>
</li>
</ul>


<hr />

<ul>
<li><p>live cd 啟動後，沒有 gdm 的情況下，自動登入 xwindow</p>

<p>  well，這是特定的議題，在查相關資料時，一度認為要用 <code>/etc/rc.local</code> 來解，但後來發現不適用，因為他是用 root，會造成 chrome 無法開啟，故我需要用一般 user 登入，需要將啟動判斷式改放在 <code>.bash_profile</code></p>

<p>  加入下列語法；</p>

<p>  ``` bash
  if [ -z "$DISPLAY" ] &amp;&amp; [ $(tty) == /dev/tty1 ]; then</p>

<pre><code>  startx
</code></pre>

<p>  fi
  ```</p>

<p>  相關說明可以看這：<a href="http://linux.vbird.org/linux_basic/0320bash.php#settings_bashrc">bash 環境設定檔</a></p></li>
</ul>


<hr />

<ul>
<li><p><code>locale-gen zh_TW.UTF-8</code></p>

<p>  改變系統語系指令，範例為變更為繁體中文環境</p></li>
</ul>


<hr />

<ul>
<li><p><code>apt-get --yes autoremove</code></p>

<p>  製作 live cd 對於容量要很講究，故要將一些沒有相依不需要的套件進行移除，就可以使用這個指令</p></li>
</ul>


<p>話說：最近越來越 linux 了～</p>
]]></content>
  </entry>
  
</feed>
